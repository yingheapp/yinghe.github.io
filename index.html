<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="cleartype" content="on">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>硬核影视指南</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/>
    <link rel="stylesheet" href="./style.css"/>
</head>
<body>
    <script>
        // 检查域名连通性的函数
        function checkDomainWithImage(domain, statusMap) {
          return new Promise((resolve, reject) => {
            const img = new Image();
            img.onload = () => {
              statusMap.set(domain, '连接成功');
              updateStatus(domain, '连接成功');
              resolve();
            };
            img.onerror = () => {
              statusMap.set(domain, '无法访问');
              updateStatus(domain, '无法访问');
              resolve();
            };
            img.src = `https://${domain}/status.png`; // 尝试加载域名的favicon
          });
        }
        
        // 更新状态显示的函数
        function updateStatus(domain, status) {
          const domainElement = document.querySelector(`#results .domain-status[data-domain="${domain}"]`);
          if (domainElement) {
            const statusElement = domainElement.querySelector('.status');
            statusElement.textContent = status;
            
            // 移除之前的状态类
            domainElement.classList.remove('success', 'failure');
            
            // 根据状态添加对应的类
            if (status === '连接成功') {
              domainElement.classList.add('success');
            } else if (status === '无法访问') {
              domainElement.classList.add('failure');
            }
          }
        }
        
        // 初始化域名检查
        function initDomainCheck() {
          const domains = ['yinghe.tv', 'mitang.tv', 'akanhd.com']; // 替换为您想要检查的域名列表
          const resultsElement = document.getElementById('results');
          const statusMap = new Map();
        
          domains.forEach(domain => {
            const domainElement = document.createElement('div');
            domainElement.classList.add('domain-status');
            domainElement.dataset.domain = domain;
            const domainLabel = document.createElement('div');
            domainLabel.classList.add('name');
            domainLabel.textContent = domain;
            domainElement.appendChild(domainLabel);
            const statusElement = document.createElement('div');
            statusElement.classList.add('status');
            statusElement.textContent = '检测中...';
            domainElement.appendChild(statusElement);
            const linkElement = document.createElement('a');
            linkElement.href = `https://${domain}`;
            linkElement.target = '_blank';
            linkElement.classList.add('link');
            linkElement.textContent = '访问';
            domainElement.appendChild(linkElement);
        
            resultsElement.appendChild(domainElement);
        
            // 开始检查域名连通性
            checkDomainWithImage(domain, statusMap);
          });
        }
        
        // 在页面加载时执行域名检查
        window.onload = initDomainCheck;
        </script>
        
<div class="main">
    <div class="logo"><img src="https://pic.rmb.bdstatic.com/bjh/user/d82efa1442b1f2b3575b48ce7fc227b9.png"></div>
    <div class="box">
        <div class="content">
            <p>这里是硬核指南的备份站点，如果遇到硬核指南无法访问，那么这个页面可以帮你回到硬核指南。此页面长期维护和更新，硬核君强烈建议收藏保存！</p>            
        </div>
        <h3>硬核域名</h3>
        <div class="domain" id="results">
        </div>

        <h3>补充说明</h3>
        <div class="content">
            <p>如果显示「无法访问」，则代表本地网络无法与连接到服务器，该域名被当地运营商屏蔽。</p>
            <p>如果以上域名均显示无法访问，建议更改本机DNS尝试恢复正常访问（<a href="https://www.alidns.com/knowledge?type=SETTING_DOCS#j7oe4" target="_blank">Windows设置教程</a>、<a href="https://www.alidns.com/knowledge?type=SETTING_DOCS#user_ios" target="_blank">MAC设置教程</a>）。</p>
            <div class="list">
                <div class="list-main">
                    <div class="list-content"><h4>阿里DNS</h4><p>223.5.5.5<br />223.6.6.6</p></div>
                    <div class="list-content"><h4>腾讯DNS</h4><p>119.29.29.29</p></div>
                    <div class="list-content"><h4>114DNS</h4><p>114.114.114.114<br />114.114.115.115</p></div>
                </div>
            </div>
            <p>若修改DNS后依然无法访问硬核指南，可发邮件到 yingheapp#hotmail.com（将#换成@）。</p>
        </div>
    </div>
    <div class="copyright">© 2024 硬核指南 All rights reserved.</div>
</div>

</body>
</html>
